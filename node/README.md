# node 服务

> node 服务是微服务系统中执行定时任务（cron 任务） 的核心节点，同时通过 Etcd 向系统暴露自身状态，供 admin 服务实时发现和管理
* 自动向 Etcd 注册节点信息（ID/IP/PID），并通过租约维持在线状态；
* 基于 cron 调度器管理和执行定时任务；
* 支持优雅关闭，确保任务和资源安全清理。

## 二、核心工作流程

1. 初始化	解析启动参数 → 加载配置 → 初始化日志 / MySQL/Etcd → 生成节点唯一信息
2. 节点注册	检查节点是否重复 → 向 Etcd 注册节点（绑定租约） → 启动租约续租
3. 运行阶段	等待并执行 cron 定时任务 → 监听系统终止信号
4. 优雅关闭	触发退出事件 → 关闭 Etcd 连接 → 停止 cron 任务 → 输出退出日志



